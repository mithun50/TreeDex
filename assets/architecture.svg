<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 650" font-family="system-ui, -apple-system, sans-serif">
  <defs>
    <marker id="arr" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#6366f1"/>
    </marker>
    <filter id="sh">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.08"/>
    </filter>
    <linearGradient id="hg" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#6366f1"/>
      <stop offset="100%" style="stop-color:#8b5cf6"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="900" height="650" rx="12" fill="#fafafa"/>

  <!-- Title -->
  <rect x="0" y="0" width="900" height="56" rx="12" fill="url(#hg)"/>
  <rect x="0" y="20" width="900" height="36" fill="url(#hg)"/>
  <text x="450" y="36" text-anchor="middle" fill="white" font-size="20" font-weight="700">TreeDex Architecture</text>

  <!-- Layer 1: Document Loaders -->
  <rect x="40" y="80" width="820" height="80" rx="10" fill="#eff6ff" stroke="#93c5fd" stroke-width="1.5" filter="url(#sh)"/>
  <text x="60" y="102" fill="#1e40af" font-size="13" font-weight="700">Document Loaders</text>
  <text x="60" y="118" fill="#3b82f6" font-size="11">treedex/loaders.py</text>

  <rect x="60" y="128" width="100" height="24" rx="4" fill="white" stroke="#93c5fd" stroke-width="1"/>
  <text x="110" y="144" text-anchor="middle" fill="#1e40af" font-size="11">PDFLoader</text>

  <rect x="170" y="128" width="100" height="24" rx="4" fill="white" stroke="#93c5fd" stroke-width="1"/>
  <text x="220" y="144" text-anchor="middle" fill="#1e40af" font-size="11">TextLoader</text>

  <rect x="280" y="128" width="100" height="24" rx="4" fill="white" stroke="#93c5fd" stroke-width="1"/>
  <text x="330" y="144" text-anchor="middle" fill="#1e40af" font-size="11">HTMLLoader</text>

  <rect x="390" y="128" width="100" height="24" rx="4" fill="white" stroke="#93c5fd" stroke-width="1"/>
  <text x="440" y="144" text-anchor="middle" fill="#1e40af" font-size="11">DOCXLoader</text>

  <rect x="500" y="128" width="110" height="24" rx="4" fill="#dbeafe" stroke="#93c5fd" stroke-width="1"/>
  <text x="555" y="144" text-anchor="middle" fill="#1e40af" font-size="11" font-weight="600">auto_loader()</text>

  <!-- Arrow down -->
  <line x1="450" y1="160" x2="450" y2="190" stroke="#6366f1" stroke-width="2" marker-end="url(#arr)"/>

  <!-- Layer 2: PDF Parser -->
  <rect x="40" y="196" width="400" height="70" rx="10" fill="#fefce8" stroke="#fde047" stroke-width="1.5" filter="url(#sh)"/>
  <text x="60" y="218" fill="#854d0e" font-size="13" font-weight="700">PDF Parser</text>
  <text x="60" y="234" fill="#a16207" font-size="11">treedex/pdf_parser.py</text>
  <text x="60" y="254" fill="#78350f" font-size="10">extract_pages() | group_pages() | merge_pdfs()</text>

  <!-- Layer 2b: LLM Backends -->
  <rect x="460" y="196" width="400" height="70" rx="10" fill="#fce7f3" stroke="#f9a8d4" stroke-width="1.5" filter="url(#sh)"/>
  <text x="480" y="218" fill="#9d174d" font-size="13" font-weight="700">LLM Backends (18+)</text>
  <text x="480" y="234" fill="#be185d" font-size="11">treedex/llm_backends.py</text>

  <rect x="480" y="242" width="58" height="18" rx="3" fill="white" stroke="#f9a8d4" stroke-width="0.5"/>
  <text x="509" y="254" text-anchor="middle" fill="#9d174d" font-size="8">Gemini</text>
  <rect x="543" y="242" width="58" height="18" rx="3" fill="white" stroke="#f9a8d4" stroke-width="0.5"/>
  <text x="572" y="254" text-anchor="middle" fill="#9d174d" font-size="8">OpenAI</text>
  <rect x="606" y="242" width="58" height="18" rx="3" fill="white" stroke="#f9a8d4" stroke-width="0.5"/>
  <text x="635" y="254" text-anchor="middle" fill="#9d174d" font-size="8">Claude</text>
  <rect x="669" y="242" width="46" height="18" rx="3" fill="white" stroke="#f9a8d4" stroke-width="0.5"/>
  <text x="692" y="254" text-anchor="middle" fill="#9d174d" font-size="8">Groq</text>
  <rect x="720" y="242" width="46" height="18" rx="3" fill="white" stroke="#f9a8d4" stroke-width="0.5"/>
  <text x="743" y="254" text-anchor="middle" fill="#9d174d" font-size="8">Ollama</text>
  <rect x="771" y="242" width="70" height="18" rx="3" fill="#fce7f3" stroke="#f9a8d4" stroke-width="1"/>
  <text x="806" y="254" text-anchor="middle" fill="#9d174d" font-size="8" font-weight="600">Any URL</text>

  <!-- Arrows down -->
  <line x1="240" y1="266" x2="240" y2="296" stroke="#6366f1" stroke-width="2" marker-end="url(#arr)"/>
  <line x1="660" y1="266" x2="660" y2="296" stroke="#6366f1" stroke-width="2" marker-end="url(#arr)"/>

  <!-- Layer 3: Prompts -->
  <rect x="460" y="302" width="400" height="56" rx="10" fill="#f0fdf4" stroke="#86efac" stroke-width="1.5" filter="url(#sh)"/>
  <text x="480" y="324" fill="#166534" font-size="13" font-weight="700">Prompt Templates</text>
  <text x="480" y="344" fill="#16a34a" font-size="10">STRUCTURE_EXTRACTION | STRUCTURE_CONTINUE | RETRIEVAL</text>

  <!-- Layer 3b: Tree Builder + Utils -->
  <rect x="40" y="302" width="190" height="56" rx="10" fill="#f0fdf4" stroke="#86efac" stroke-width="1.5" filter="url(#sh)"/>
  <text x="60" y="324" fill="#166534" font-size="13" font-weight="700">Tree Builder</text>
  <text x="60" y="344" fill="#16a34a" font-size="10">list_to_tree | assign_ranges</text>

  <rect x="240" y="302" width="200" height="56" rx="10" fill="#f0fdf4" stroke="#86efac" stroke-width="1.5" filter="url(#sh)"/>
  <text x="260" y="324" fill="#166534" font-size="13" font-weight="700">Tree Utils</text>
  <text x="260" y="344" fill="#16a34a" font-size="10">node_map | extract_json | print</text>

  <!-- Arrows down to core -->
  <line x1="135" y1="358" x2="135" y2="388" stroke="#6366f1" stroke-width="1.5" marker-end="url(#arr)"/>
  <line x1="340" y1="358" x2="340" y2="388" stroke="#6366f1" stroke-width="1.5" marker-end="url(#arr)"/>
  <line x1="660" y1="358" x2="660" y2="388" stroke="#6366f1" stroke-width="1.5" marker-end="url(#arr)"/>

  <!-- Layer 4: Core -->
  <rect x="40" y="394" width="820" height="110" rx="10" fill="#ede9fe" stroke="#c4b5fd" stroke-width="2" filter="url(#sh)"/>
  <text x="60" y="418" fill="#4c1d95" font-size="15" font-weight="700">TreeDex Core</text>
  <text x="60" y="436" fill="#6d28d9" font-size="11">treedex/core.py</text>

  <!-- Core methods -->
  <rect x="60" y="448" width="130" height="26" rx="5" fill="white" stroke="#c4b5fd" stroke-width="1"/>
  <text x="125" y="465" text-anchor="middle" fill="#4c1d95" font-size="11" font-weight="600">.from_file()</text>

  <rect x="200" y="448" width="130" height="26" rx="5" fill="white" stroke="#c4b5fd" stroke-width="1"/>
  <text x="265" y="465" text-anchor="middle" fill="#4c1d95" font-size="11" font-weight="600">.from_pages()</text>

  <rect x="340" y="448" width="100" height="26" rx="5" fill="white" stroke="#c4b5fd" stroke-width="1"/>
  <text x="390" y="465" text-anchor="middle" fill="#4c1d95" font-size="11" font-weight="600">.query()</text>

  <rect x="450" y="448" width="100" height="26" rx="5" fill="white" stroke="#c4b5fd" stroke-width="1"/>
  <text x="500" y="465" text-anchor="middle" fill="#4c1d95" font-size="11" font-weight="600">.save()</text>

  <rect x="560" y="448" width="100" height="26" rx="5" fill="white" stroke="#c4b5fd" stroke-width="1"/>
  <text x="610" y="465" text-anchor="middle" fill="#4c1d95" font-size="11" font-weight="600">.load()</text>

  <rect x="670" y="448" width="110" height="26" rx="5" fill="white" stroke="#c4b5fd" stroke-width="1"/>
  <text x="725" y="465" text-anchor="middle" fill="#4c1d95" font-size="11" font-weight="600">.show_tree()</text>

  <rect x="60" y="480" width="130" height="18" rx="3" fill="#ede9fe" stroke="#c4b5fd" stroke-width="0.5"/>
  <text x="125" y="493" text-anchor="middle" fill="#6d28d9" font-size="10">QueryResult</text>

  <rect x="200" y="480" width="80" height="18" rx="3" fill="#ede9fe" stroke="#c4b5fd" stroke-width="0.5"/>
  <text x="240" y="493" text-anchor="middle" fill="#6d28d9" font-size="10">.stats()</text>

  <!-- Arrow down to output -->
  <line x1="450" y1="504" x2="450" y2="534" stroke="#6366f1" stroke-width="2" marker-end="url(#arr)"/>

  <!-- Layer 5: Output -->
  <rect x="140" y="540" width="620" height="56" rx="10" fill="#fef3c7" stroke="#fbbf24" stroke-width="1.5" filter="url(#sh)"/>
  <text x="450" y="566" text-anchor="middle" fill="#92400e" font-size="13" font-weight="700">QueryResult: .context  .node_ids  .page_ranges  .pages_str  .reasoning</text>
  <text x="450" y="584" text-anchor="middle" fill="#a16207" font-size="11">Ready for your LLM's generation step or direct use</text>

  <!-- Footer -->
  <text x="450" y="636" text-anchor="middle" fill="#94a3b8" font-size="11">All modules are independent â€” use any part standalone</text>
</svg>
